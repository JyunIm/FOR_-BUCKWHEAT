<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>연애 심리 테스트</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    .hidden { display: none; }
  </style>
</head>
<body class="bg-pink-50 text-center min-h-screen flex flex-col justify-center items-center">
  <div id="start" class="p-6">
    <h1 class="text-3xl font-bold text-pink-600 mb-4">나의 연애 성향은?</h1>
    <p class="mb-4 text-gray-700">10개의 질문으로 알아보는 당신의 연애 스타일!</p>
    <button onclick="startTest()" class="bg-pink-500 text-white px-6 py-2 rounded-full hover:bg-pink-600">테스트 시작하기</button>
  </div>

  <div id="questionBox" class="hidden p-6 max-w-lg">
    <h2 id="question" class="text-xl font-semibold mb-6 text-gray-800"></h2>
    <div id="answers" class="flex flex-col space-y-3"></div>
  </div>

  <div id="resultBox" class="hidden p-6 max-w-lg">
    <h2 id="resultTitle" class="text-2xl font-bold mb-4 text-pink-600"></h2>
    <p id="resultDesc" class="mb-4 text-gray-700"></p>
    <img id="resultImg" class="mx-auto w-40 h-40 object-contain" />
    <button onclick="location.reload()" class="mt-6 bg-gray-500 text-white px-4 py-2 rounded">다시 하기</button>
  </div>

  <script>
    const questions = [
      {
        question: "데이트할 때 더 좋은 건?",
        answers: [
          { text: "활동적인 데이트 (놀이공원, 운동 등)", type: "A" },
          { text: "잔잔한 데이트 (카페, 산책 등)", type: "B" }
        ]
      },
      {
        question: "연애할 때 나는?",
        answers: [
          { text: "먼저 연락하는 편", type: "A" },
          { text: "기다리는 편", type: "B" }
        ]
      },
      {
        question: "이상형을 고를 때 더 중요한 것은?",
        answers: [
          { text: "외모!", type: "C" },
          { text: "성격!", type: "D" }
        ]
      },
      {
        question: "애인이 연락이 안될 때 나는?",
        answers: [
          { text: "걱정되며 계속 연락한다", type: "A" },
          { text: "기다리며 상황을 지켜본다", type: "B" }
        ]
      },
      {
        question: "연애에서 나는 더 많이?",
        answers: [
          { text: "주는 편이다", type: "C" },
          { text: "받는 편이다", type: "D" }
        ]
      }
    ];

    const results = {
      A: {
        title: "열정적인 연애파",
        desc: "당신은 사랑에 빠지면 열정적으로 몰입하는 스타일입니다. 표현을 잘하고, 애정도 풍부해요!",
        img: "images/love_active.png"
      },
      B: {
        title: "신중한 연애파",
        desc: "당신은 조용히 상대를 배려하는 연애를 선호해요. 섬세하고 안정감을 주는 스타일입니다.",
        img: "images/love_calm.png"
      },
      C: {
        title: "낭만주의 연애파",
        desc: "당신은 로맨틱한 상황과 외적인 매력에 끌리는 스타일이에요. 분위기를 중요시합니다.",
        img: "images/love_romantic.png"
      },
      D: {
        title: "현실적인 연애파",
        desc: "당신은 신뢰와 대화, 성격의 조화를 중시하는 타입이에요. 안정적인 관계를 추구합니다.",
        img: "images/love_practical.png"
      }
    };

    let current = 0;
    let answersCount = {};

    function startTest() {
      document.getElementById('start').classList.add('hidden');
      document.getElementById('questionBox').classList.remove('hidden');
      showQuestion();
    }

    function showQuestion() {
      const q = questions[current];
      document.getElementById('question').innerText = q.question;
      const answerBox = document.getElementById('answers');
      answerBox.innerHTML = '';

      q.answers.forEach(a => {
        const btn = document.createElement('button');
        btn.innerText = a.text;
        btn.className = 'bg-white border px-4 py-2 rounded shadow hover:bg-pink-100';
        btn.onclick = () => selectAnswer(a.type);
        answerBox.appendChild(btn);
      });
    }

    function selectAnswer(type) {
      answersCount[type] = (answersCount[type] || 0) + 1;
      current++;
      if (current < questions.length) {
        showQuestion();
      } else {
        showResult();
      }
    }

    function showResult() {
      document.getElementById('questionBox').classList.add('hidden');
      document.getElementById('resultBox').classList.remove('hidden');

      const resultType = Object.entries(answersCount).sort((a,b) => b[1] - a[1])[0][0];
      const result = results[resultType];

      document.getElementById('resultTitle').innerText = result.title;
      document.getElementById('resultDesc').innerText = result.desc;
      document.getElementById('resultImg').src = result.img;
    }
  </script>
</body>
</html>
